<!DOCTYPE html>
<html>
<head>
    <title>Pico W - Sliders</title>
</head>
<body>
    <h1>Manual Control</h1>

    <div 
    id="leg0"
    style="background: #aaf"
    >
    <p>Leg1</p>
    </div>

    <div 
    id="leg1"
    style="background: #faf"
    >
    <p>Leg2</p>
    </div>

    <div 
    id="leg2"
    style="background: #ffa;"
    >
    <p>Leg3</p>
    </div>

    <div 
    id="leg3"
    style="background: #afa;"
    >
    <p>Leg4</p>
    </div>

    <button onclick="sendValue(0, 0)">Reset config.json</button>

    <script>
    for (let i = 1; i <= 12; i++) {
        let div = document.createElement("div");
        div.innerHTML = `
            <label for="slider${i}">Servo ${i}:</label>
            <input type="range" min="-90" max="90" value="0"
                   id="slider${i}"
                   oninput="document.getElementById('val${i}').innerText=this.value"
                   onchange="sendValue(${i}, this.value)"
                   style="width: 96%; margin: 0 2%;">
            <span id="val${i}">0</span>
            <br><br>
        `;
        let id = `leg${parseInt((i-1)/3)}`;
        document.getElementById(id).appendChild(div);
    }

    function sendValue(id, value) {
        fetch('/input' + id + '?value=' + value)
        .then(response => console.log("sent: slider" + id + " = " + value));
    }
    </script>
</body>
</html>
